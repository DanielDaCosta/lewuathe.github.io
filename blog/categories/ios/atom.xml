<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: iOS | The first cry of Atom]]></title>
  <link href="http://lewuathe.com/blog/categories/ios/atom.xml" rel="self"/>
  <link href="http://lewuathe.com/"/>
  <updated>2014-10-12T20:49:53+09:00</updated>
  <id>http://lewuathe.com/</id>
  <author>
    <name><![CDATA[Kai Sasaki]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Making Custom Segue]]></title>
    <link href="http://lewuathe.com/blog/2013/12/17/making-custom-segue/"/>
    <updated>2013-12-17T23:21:00+09:00</updated>
    <id>http://lewuathe.com/blog/2013/12/17/making-custom-segue</id>
    <content type="html"><![CDATA[<p>In developing iOS application, have you wanted to make your own cutomized segue? UIKit provides bare segues such as
<code>push</code>, <code>modal</code>, <code>popover</code> and <code>replace</code>. These are useful in any situations. But sometimes I want to make my own transition.
So, I wrote down some tips for making your own custom animation used by segue.</p>

<h2>Make custom segue class</h2>

<p>In Xcode, add new files. The name of this class, anything is OK. But you have to set super class <code>UIStoryboardSegue</code>. Otherwise storyboard
cannot find this custom class subsequently.</p>

<p><img src="/images/posts/2013-12-17-customsegue/create-segue.png" alt="create" /></p>

<p>In this case, I named <code>FlipSegue</code></p>

<p>```objective-c</p>

<h1>import &lt;UIKit/UIKit.h></h1>

<p>@interface FlipSegue : UIStoryboardSegue</p>

<p>@end
```</p>

<p>And write animations like below.</p>

<p>```</p>

<h1>import &ldquo;FlipSegue.h&rdquo;</h1>

<p>@implementation FlipSegue</p>

<ul>
<li><p>(void)perform {
  UIViewController <em>sourceController = (UIViewController</em>)self.sourceViewController;
  UIViewController <em>destinationController = (UIViewController</em>)self.destinationViewController;</p>

<p>  CATransition *transition = [CATransition animation];
  transition.duration = 0.4;
  transition.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];</p>

<p>  // Set transition animation type
  transition.type = kCATransitionFade;
  // Set transition animation subtype
  transition.subtype = kCATransitionFromTop;</p>

<p>  // Change animation
  [sourceController.navigationController.view.layer addAnimation:transition forKey:@&ldquo;mytransition&rdquo;];</p>

<p>  // Transition
  [sourceController.navigationController pushViewController:destinationController animated:NO];</p></li>
</ul>


<p>}</p>

<p>@end
```</p>

<p>When this segue is called, these animation settings are executed automatically. If you want to change animation, <code>type</code> and <code>subtype</code> is the core
of how the animation moves. These presets are documented in <a href="https://developer.apple.com/library/ios/documentation/GraphicsImaging/Reference/CATransition_Class/Introduction/Introduction.html">here</a>
Please see official document for detail. And then we&rsquo;ll use this segue on storyboard.</p>

<h2>Make segue with story board</h2>

<p>You need to draw your custom segue on storyboard.</p>

<p><img src="/images/posts/2013-12-17-customsegue/storyboard-segue.png" alt="storyboard" /></p>

<p>You can see <code>flip</code>, when you drag the arrow of segue on storyboard. This is your custom <code>FlipSegue</code>.
So choose this segue. And run!! Pusing source button of flip segue, your will see your custom animated transition.</p>
]]></content>
  </entry>
  
</feed>
